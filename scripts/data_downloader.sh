#!/bin/bash

curl 'https://canadaeast1-mediap.svc.ms/transform/zip?cs=fFNQTw' \
  -H 'authority: canadaeast1-mediap.svc.ms' \
  -H 'accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7' \
  -H 'accept-language: en-US,en;q=0.9,bn;q=0.8,fr;q=0.7' \
  -H 'cache-control: max-age=0' \
  -H 'content-type: application/x-www-form-urlencoded' \
  -H 'dnt: 1' \
  -H 'origin: https://uofc-my.sharepoint.com' \
  -H 'sec-ch-ua: "Chromium";v="122", "Not(A:Brand";v="24", "Google Chrome";v="122"' \
  -H 'sec-ch-ua-mobile: ?0' \
  -H 'sec-ch-ua-platform: "Windows"' \
  -H 'sec-fetch-dest: iframe' \
  -H 'sec-fetch-mode: navigate' \
  -H 'sec-fetch-site: cross-site' \
  -H 'upgrade-insecure-requests: 1' \
  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36' \
  --data-raw 'zipFileName=unet_segmentation.zip&guid=e1cd908b-da40-4663-b421-9a224a40df88&provider=spo&files=%7B%22items%22%3A%5B%7B%22name%22%3A%22unet_segmentation%22%2C%22size%22%3A0%2C%22docId%22%3A%22https%3A%2F%2Fuofc-my.sharepoint.com%3A443%2F_api%2Fv2.0%2Fdrives%2Fb%215YfLn1OjkEqCA_nN_uD8ILatq8KMyMBGsun8vMXl3gtcm-SCMlO0RbuoPQkXKdno%2Fitems%2F01A4YSARGBNUMWWUIIBJEI6HBDKFCTO34W%3Fversion%3DPublished%26access_token%3DeyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTBmZjEtY2UwMC0wMDAwMDAwMDAwMDAvdW9mYy1teS5zaGFyZXBvaW50LmNvbUBjNjA5YTBlYy1hNWUzLTQ2MzEtOTY4Ni0xOTIyODBiZDkxNTEiLCJpc3MiOiIwMDAwMDAwMy0wMDAwLTBmZjEtY2UwMC0wMDAwMDAwMDAwMDAiLCJuYmYiOiIxNzExNDY1MTk5IiwiZXhwIjoiMTcxMTQ4Njc5OSIsImVuZHBvaW50dXJsIjoiT2t3VUV4K0lqeTZaYURxMHE3alBkWEtBcHk5bFV1T1JEV08rcnFkUVQ5UT0iLCJlbmRwb2ludHVybExlbmd0aCI6IjExNCIsImlzbG9vcGJhY2siOiJUcnVlIiwidmVyIjoiaGFzaGVkcHJvb2Z0b2tlbiIsInNpdGVpZCI6Ik9XWmpZamczWlRVdFlUTTFNeTAwWVRrd0xUZ3lNRE10WmpsalpHWmxaVEJtWXpJdyIsInNpZ25pbl9zdGF0ZSI6IltcImttc2lcIl0iLCJuYW1laWQiOiIwIy5mfG1lbWJlcnNoaXB8bWRhZmlmYWwubWFtdW5AdWNhbGdhcnkuY2EiLCJuaWkiOiJtaWNyb3NvZnQuc2hhcmVwb2ludCIsImlzdXNlciI6InRydWUiLCJjYWNoZWtleSI6IjBoLmZ8bWVtYmVyc2hpcHwxMDAzMjAwMjkyOTA4MjFhQGxpdmUuY29tIiwic2lkIjoiMDIyNzRhMmMtMTAwYy00ODQ1LWI1YzMtNDhmYTY0ZGFiYzAwIiwidHQiOiIwIiwiaXBhZGRyIjoiMTM2LjE1OS4yMTMuNjciLCJzbmlkIjoiNiIsInN0cCI6InQifQ.b827_5YPM82BgqjTXy5_7ca2rdhcdboU3ZaArfS4azk%22%2C%22isFolder%22%3Atrue%7D%5D%7D&oAuthToken=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IlhSdmtvOFA3QTNVYVdTblU3Yk05blQwTWpoQSIsImtpZCI6IlhSdmtvOFA3QTNVYVdTblU3Yk05blQwTWpoQSJ9.eyJhdWQiOiJodHRwczovL2NhbmFkYWVhc3QxLW1lZGlhcC5zdmMubXMiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC9jNjA5YTBlYy1hNWUzLTQ2MzEtOTY4Ni0xOTIyODBiZDkxNTEvIiwiaWF0IjoxNzExNDc0MTEyLCJuYmYiOjE3MTE0NzQxMTIsImV4cCI6MTcxMTQ3OTMxNiwiYWNyIjoiMSIsImFpbyI6IkFVUUF1LzhXQUFBQVYyUGFBUzNzS3JHbFdNb21mTHhoN2EvMmNrVWowWUx0b21uYzlHckUrUEdiZzlvWlZWa0NpVUdHQTRuYlc5QXI0dFhhZXc1N3JvYUdGYmc1L0VNdUhnPT0iLCJhbXIiOlsicHdkIiwibWZhIl0sImFwcF9kaXNwbGF5bmFtZSI6Ik9mZmljZSAzNjUgU2hhcmVQb2ludCBPbmxpbmUiLCJhcHBpZCI6IjAwMDAwMDAzLTAwMDAtMGZmMS1jZTAwLTAwMDAwMDAwMDAwMCIsImFwcGlkYWNyIjoiMiIsImF1dGhfdGltZSI6MTcxMDA5MjIyMywiZmFtaWx5X25hbWUiOiJNYW11biIsImdpdmVuX25hbWUiOiJNZCBBZmlmIEFsIiwiaXBhZGRyIjoiMjYwNDozZDA5OjE1ODA6NzgwOmZjMDQ6YzFhYjpkYjU3OmNhYmEiLCJuYW1lIjoiTWQgQWZpZiBBbCBNYW11biIsIm9pZCI6ImZhYzBhMmYzLThhYWMtNDU2My1iNjBkLTI3ZGYwNTk2ZWNjNCIsIm9ucHJlbV9zaWQiOiJTLTEtNS0yMS0xNDcyMjIwNjU5LTE0NjQ2OTg0MTMtMzc4ODk5OTUyOS01ODY2NzYiLCJwdWlkIjoiMTAwMzIwMDI5MjkwODIxQSIsInJoIjoiMC5BUTRBN0tBSnh1T2xNVWFXaGhraWdMMlJVZEVMVDVSN0VSeExyeWFBVHRsZWRuNE9BRTAuIiwic2NwIjoiU2l0ZXMubWFuYWdlLkFsbCIsInNpZ25pbl9zdGF0ZSI6WyJrbXNpIl0sInN1YiI6Im82V0F2ODhXTUJ1Y0x2ZWk3TV9zdmFiX21BVmd6UWFrbnplckRJaG5DZkEiLCJ0aWQiOiJjNjA5YTBlYy1hNWUzLTQ2MzEtOTY4Ni0xOTIyODBiZDkxNTEiLCJ1bmlxdWVfbmFtZSI6Im1kYWZpZmFsLm1hbXVuQHVjYWxnYXJ5LmNhIiwidXBuIjoibWRhZmlmYWwubWFtdW5AdWNhbGdhcnkuY2EiLCJ1dGkiOiJGbHNIVnFSZ2RrYUExZ2J0M3hfNkFBIiwidmVyIjoiMS4wIn0.GMkX3LuLbe8fiRNXop_cygojWDEdBZJmHrFvt-1t6czsu0bf12BRHyXCQIJvwDPIdaT5FVnf1uqauDrgWRYa53Bld63uxew9letPInyqQpxiK2V_Ojr2Wnxm2Bay5bhzHC7BCDkosdkpD36HKXiuTaWGy_qy6vRHkMXwIZwzIYuIljxbzXm9OKT-9U-9kC8oD1Fhq_vyTebYEOcgc-h92WbcWoCb5gYQ1f3-HU7jGvD6elpk4SQCGl1QwxusiQSYzbScX1Vjjs-3iKn9NnYKhrL7w6Q5bLqQRL5Yjt349Mn1lfo2bbOHcGKQdKtCQ83kvpJ5K5-PA055eCd0TXKB6A' --output unet_segmentation.zip